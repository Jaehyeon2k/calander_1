/* =========================================================
   YJU Calendar - Global Theme (Light/Dark) + UI Kit
   - ThemeContext가 <html data-theme="dark|light"> 설정
   - FullCalendar 격자선(칸) 제거
   - Login/Signup 중앙 카드 스타일
   - ✅ FullCalendar 이벤트 제목 2줄 표시(말줄임) + 잘림 방지
========================================================= */

/* -------------------------
   Theme Variables
------------------------- */
:root {
  --bg: #0b0c10;
  --surface: #11131a;
  --surface-2: #171a22;
  --text: #e9eef4;
  --muted: rgba(233, 238, 244, 0.72);
  --border: rgba(233, 238, 244, 0.10);

  --primary: #2f6df6;
  --primary-2: #1d4ed8;

  --input-bg: rgba(255, 255, 255, 0.06);
  --input-border: rgba(255, 255, 255, 0.14);

  --shadow: 0 18px 45px rgba(0, 0, 0, 0.35);
  --radius: 16px;

  /* FullCalendar bridge */
  --fc-page-bg: var(--bg);
  --fc-bg: var(--surface);
  --fc-neutral-bg: rgba(255, 255, 255, 0.05);
  --fc-border-color: transparent; /* ✅ 격자선 제거 핵심 */
  --fc-today-bg: rgba(124, 196, 255, 0.12);

  --fc-button-bg: rgba(255, 255, 255, 0.06);
  --fc-button-text: var(--text);
  --fc-button-border: rgba(255, 255, 255, 0.14);

  --event-bg: #3a86ff;
  --event-text: #ffffff;
}

:root[data-theme="light"] {
  --bg: #f6f7fb;
  --surface: #ffffff;
  --surface-2: #f1f4fb;
  --text: #121521;
  --muted: rgba(18, 21, 33, 0.62);
  --border: rgba(18, 21, 33, 0.10);

  --primary: #2f6df6;
  --primary-2: #1d4ed8;

  --input-bg: #f4f6fb;
  --input-border: rgba(18, 21, 33, 0.14);

  --shadow: 0 18px 45px rgba(18, 21, 33, 0.12);

  --fc-page-bg: var(--bg);
  --fc-bg: var(--surface);
  --fc-neutral-bg: rgba(18, 21, 33, 0.05);
  --fc-border-color: transparent; /* ✅ 라이트도 격자선 제거 */
  --fc-today-bg: rgba(80, 145, 245, 0.12);

  --fc-button-bg: #ffffff;
  --fc-button-text: var(--text);
  --fc-button-border: rgba(18, 21, 33, 0.16);

  --event-bg: #2f6df6;
  --event-text: #ffffff;
}

/* -------------------------
   Base
------------------------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: "Pretendard", "Segoe UI", system-ui, -apple-system, sans-serif;
}

/* 링크 */
a { color: var(--primary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* -------------------------
   Layout helpers
------------------------- */
.page-root {
  max-width: 1100px;
  margin: 24px auto;
  padding: 16px;
}

.page-title {
  text-align: center;
  font-size: 1.65rem;
  font-weight: 800;
  margin: 0 0 8px;
  letter-spacing: -0.2px;
}

.page-subtitle {
  text-align: center;
  font-size: 0.95rem;
  color: var(--muted);
  margin: 0 0 20px;
}

/* ✅ 로그인/회원가입/관리 페이지용 중앙 정렬 래퍼 */
.center-wrap {
  min-height: calc(100vh - 90px);
  display: grid;
  place-items: center;
  padding: 24px 16px;
}

/* -------------------------
   Card / Form UI
------------------------- */
.card {
  width: min(560px, 92vw);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 22px;
}

.card h2 {
  margin: 0 0 14px;
  font-size: 1.6rem;
  letter-spacing: -0.2px;
}

.form-grid { display: grid; gap: 12px; }
.form-row { display: grid; gap: 6px; text-align: left; }

.form-row label {
  font-size: 0.92rem;
  color: var(--muted);
}

.input {
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid var(--input-border);
  background: var(--input-bg);
  color: var(--text);
  outline: none;
}

.input:focus {
  border-color: rgba(47, 109, 246, 0.6);
  box-shadow: 0 0 0 3px rgba(47, 109, 246, 0.18);
}

.btn-row { display: grid; gap: 10px; margin-top: 6px; }

.btn {
  border: 1px solid var(--border);
  background: var(--surface-2);
  color: var(--text);
  border-radius: 12px;
  padding: 12px 14px;
  cursor: pointer;
  font-weight: 700;
}

.btn:hover { filter: brightness(1.03); }
.btn:active { transform: translateY(1px); }

.btn-primary {
  background: linear-gradient(180deg, var(--primary), var(--primary-2));
  border: none;
  color: #fff;
}

.btn-ghost { background: transparent; }

.helper {
  margin-top: 12px;
  color: var(--muted);
  font-size: 0.92rem;
}

/* -------------------------
   FullCalendar Theme
------------------------- */
.fc {
  --fc-page-bg-color: var(--fc-page-bg);
  --fc-border-color: var(--fc-border-color);
  --fc-neutral-bg-color: var(--fc-neutral-bg);
  --fc-today-bg-color: var(--fc-today-bg);
  --fc-button-bg-color: var(--fc-button-bg);
  --fc-button-text-color: var(--fc-button-text);
  --fc-button-border-color: var(--fc-button-border);
  --fc-event-bg-color: var(--event-bg);
  --fc-event-border-color: var(--event-bg);
  --fc-event-text-color: var(--event-text);

  --fc-button-hover-bg-color: var(--fc-button-bg);
  --fc-button-hover-border-color: var(--fc-button-border);
  --fc-button-active-bg-color: var(--fc-button-bg);
  --fc-button-active-border-color: var(--fc-button-border);
}

/* ✅ “칸” 제거(표 테두리 제거) */
.fc-theme-standard td,
.fc-theme-standard th {
  border: 0 !important;
}
.fc .fc-scrollgrid,
.fc .fc-scrollgrid-section > td,
.fc .fc-scrollgrid-section-header > td {
  border: 0 !important;
}

/* 달력 바탕을 카드처럼 */
.calendar-shell {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 14px;
  box-shadow: var(--shadow);
}

/* 요일 헤더 */
.fc .fc-col-header-cell {
  background: transparent;
  font-weight: 800;
}
.fc .fc-col-header-cell-cushion {
  color: var(--muted) !important;
  padding: 10px 0;
}

/* 날짜 숫자 */
.fc .fc-daygrid-day-number {
  color: var(--muted) !important;
  font-weight: 700;
  padding: 8px;
}

/* 오늘 하이라이트 */
.fc .fc-day-today {
  background: var(--fc-today-bg) !important;
  border-radius: 14px;
}

/* 이벤트 바(기본 스타일) */
.fc .fc-daygrid-event {
  border-radius: 10px !important;
  padding: 3px 8px !important;
  border: none !important;
  font-weight: 700;
}

/* 헤더 버튼 */
.fc .fc-button {
  border-radius: 12px !important;
  box-shadow: none !important;
  font-weight: 800;
  padding: 8px 14px !important;
}

/* 캘린더 타이틀 */
.fc .fc-toolbar-title {
  font-weight: 900;
  letter-spacing: -0.2px;
  color: var(--text) !important;
}

/* (선택) 월 뷰에서 “셀 배경”을 아주 약하게 */
.fc .fc-daygrid-day-frame {
  border-radius: 14px;
}

/* -------------------------
   (Optional) Make nav look ok if you have one
------------------------- */
nav {
  max-width: 1100px;
  margin: 18px auto 0;
  display: flex;
  justify-content: center;
  gap: 10px;
  padding: 0 16px;
  color: var(--text);
}

/* =========================================================
   ✅ 핵심: 이벤트 제목 2줄 표시 + 잘림 방지
   - 12월 16일처럼 긴 제목이 한 줄에서 잘리는 문제 해결
========================================================= */

/* 이벤트 전체: 줄바꿈 허용 + 높이 자동 */
.fc .fc-daygrid-event {
  white-space: normal !important;
  height: auto !important;
  line-height: 1.2 !important;
}

/* 이벤트 제목: 2줄까지만 보여주고 넘치면 ... */
.fc .fc-daygrid-event .fc-event-title {
  white-space: normal !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;

  display: -webkit-box !important;
  -webkit-box-orient: vertical !important;

  word-break: keep-all;                  /* 한글 단어 깨짐 방지 */
}

/* 일부 브라우저/테마에서 감싸는 div가 잘라버리는 경우 방지 */
.fc .fc-daygrid-event-harness {
  overflow: visible !important;
}

/* (선택) 셀 높이가 너무 낮아서 2줄이 잘리는 경우 대비 */
.fc .fc-daygrid-day-frame {
  min-height: 110px; /* 필요하면 120~140으로 조금 올려 */
}
.school-filterbar{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  padding: 10px 2px 14px;
  justify-content: flex-start;
}

.school-filterbtn{
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text);
  font-weight: 900;
  cursor: pointer;
}

.school-filterbtn:hover{
  filter: brightness(1.05);
}

.school-filterbtn.is-active{
  border-color: rgba(47, 109, 246, 0.55);
  background: rgba(47, 109, 246, 0.16);
}
/* ===== 학과 일정/학사일정 공통: 스샷 같은 깔끔한 레이아웃 ===== */
.page-wide{
  max-width: 1200px;
  margin: 0 auto;
  padding: 18px 14px;
}

.page-head{
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 10px;
}

.page-title-lg{
  margin: 0;
  font-size: 34px;
  font-weight: 900;
  letter-spacing: -0.5px;
}

.page-actions{
  display: flex;
  align-items: center;
  gap: 10px;
}

/* 학과 선택 */
.dept-select{
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text);
  font-weight: 800;
}

.dept-badge{
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  font-weight: 900;
}

/* 카드 제거 느낌(스샷처럼) */
.calendar-clean{
  background: transparent;
  border: 0;
  box-shadow: none;
  padding: 0;
}

/* FullCalendar 버튼/타이틀 정리 */
.calendar-clean .fc .fc-toolbar-title{
  font-size: 34px;
  font-weight: 900;
  letter-spacing: -0.4px;
}

.calendar-clean .fc .fc-button{
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,0.08);
  background: rgba(255,255,255,0.85);
  color: rgba(0,0,0,0.75);
  font-weight: 800;
  box-shadow: none;
}

html[data-theme="dark"] .calendar-clean .fc .fc-button{
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.82);
}

.calendar-clean .fc .fc-button:hover{
  filter: brightness(1.02);
}

.calendar-clean .fc .fc-button:focus{
  box-shadow: none;
}

/* 관리자 폼도 너무 튀지 않게 */
.dept-admin{
  margin-top: 16px;
  padding: 14px;
  border: 1px solid var(--border);
  border-radius: 16px;
  background: var(--surface);
}

.dept-admin-title{
  margin: 0 0 10px;
  font-weight: 900;
}

.dept-admin-form{
  display: grid;
  grid-template-columns: 2fr 1fr 1fr auto;
  gap: 10px;
}

@media (max-width: 820px){
  .page-head{
    flex-direction: column;
    align-items: flex-start;
  }
  .dept-admin-form{
    grid-template-columns: 1fr;
  }
}
